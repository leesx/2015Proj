<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
    <script src="http://libs.baidu.com/underscore/1.3.3/underscore.js"></script>
    <script src="http://libs.baidu.com/backbone/0.9.2/backbone.js"></script>
    <script>
    (function($){
        //视图
        SearchView = Backbone.View.extend({
            initialize:function(){
                //console.log('init a SearchView');
                this.render('the2015');
            },
            render:function(search_label){
                //使用underscore这个库，来编译模板
                var template = _.template($('#search_template').html(),{search_label:search_label});
                //加载模板到对应的el属性中
                this.el.html(template);
            },
            events:{
                'click input[type = button]':'doSearch'//定义类型为button的input 标签的点击事件，触发函数doSearch
            },
            doSearch:function(event){
                console.log('search for'+$('#search_input').val())
            },
            doChange:function(event){
                //通过model发送数据到服务器
                this.render('the2015'+$('#search_input').val())
            }


        });
        var searchView = new SearchView({el:$('#search_container')});
    })(jQuery)
    </script>
</head>
<body>
    <div id="search_container"></div>
    <script type="text/template" id="search_template">
            <label><%= search_label %></label>
            <input type='text' id='search_input'/>
            <input type='button' id='search_button' value='Search'/>
    </script>
</body>
</html>